function _0x2a73(_0xca7ae4,_0x3c0468){const _0x4cd785=_0x4cd7();return _0x2a73=function(_0x2a7333,_0x1ec222){_0x2a7333=_0x2a7333-0x115;let _0x5e22ea=_0x4cd785[_0x2a7333];return _0x5e22ea;},_0x2a73(_0xca7ae4,_0x3c0468);}const _0xb55993=_0x2a73;function _0x4cd7(){const _0x2ad2b8=['no-grid','#f783ac','#fff5f5','dot-grid','#74c0fc','#eebefa','input','21732JilYbG','ellipseBtn','#5f3dc4','className','erase','removeChild','#f8f0fc','#fd7e14','#ffc078','isSpacePressed','draw','#fff9db','#228be6','endAction','getElementById','change','-9999px','rectDashOverlay','substr','#868e96','contains','add','click','min','#1c7ed6','startAction','#4dabf7','#ffe3e3','coordinatesDisplay','hidden','Redid\x20last\x20action','#d3f9d8','symmetryModeSelect','#862e9c','shift','absolute','#51cf66','#be4bdb','#845ef7','map','coordinatesDisplayId','reset','#099268','#ced4da','lastMouseY','rectangle','pixelGridWrapper','statusBarId','#f76707','backgroundColor','match','--pixel-color','left','#ffd8a8',',\x201fr)','themeToggle','minZoom','1178160LIjiPO','popUndoState','replace','setProperty','none','#f3d9fa','#66a80f','display','handlePixelInteraction','zoomResetBtn','#c3fae8','colorPickerId','applyGridStyle','#e64980','gridStyleSelect','innerHTML','#ff922b','customWidthInput','value','isShiftPressed','customSizeIds','#ffe8cc','mousedown','statusBar','gridWidth','boxShadow','max','mouseup','custom','dots','#2f9e44','mouseleave','198003YdBzcZ','setupGlobalMouseEvents','#adb5bd','#fab005','actionButtonIds','gridSizeSelect','#a61e4d','getRGBString','indexOf','#ffdeeb','white','lines','rectStart','filter','1719896aBvCgG','#ae3ec9','#ffd43b','#ffffff','#dbe4ff','startsWith','#37b24d','selected','length','#e67700','pixelGrid','alpha','Selected\x20color:\x20','#96f2d7','eraseBtn','appendChild','.pixel-grid-wrapper','colorPicker','classList','floor','#d8f5a2','remove','floodFill','#e6fcf5','Position:\x20','querySelectorAll','#fcc419','clientY','#f4fce3','#f1f3f5','#d9480f','panStartX','#0ca678','ellipse','#c2255c','#bac8ff','position','gridHeight','zoomStep','#4263eb','gridSize','#b2f2bb','mouseenter','redoStack','lines-grid','style','isRecordingAction','rectangleBtn','#e9fac8','32UWUgpj','maxZoom','#f08c00','#94d82d','#5c940d','#087f5b','createElement','toolButtonIds','#edf2ff','currentActionStart','zoomLevel','#000000','#40c057','initColorPicker','#da77f2','#f03e3e','#fff0f6','#63e6be','#fff3bf','saveProject','zoomLevelDisplay','forEach','from','type','#343a40','#38d9a9','gridStyleSelectId','top','elements','body','pixelGridId','hand','#e3fafc','isDrawing','customSizeInputs','dataset','initGrid','#fff4e6','#cc5de8','#ffec99','config','redoBtn','#e03131','div','removeProperty','filled','#748ffc','pop','children','push','currentTool','target','220596fWLXds','dblclick','#6741d9','color','#ffa94d','#ffc9c9','true','addEventListener','saveSvgBtn','#69db7c','#ffa8a8','clear','popRedoState','querySelector','4200196KDALTR','setupEventListeners','#1971c2','#f3f0ff','Canvas\x20size:\x20','getElements','#ff8787','rectPreview','#7048e8','width','pushUndoState','#20c997','#7950f2','#a9e34b','#364fc7','rgb(255,\x20255,\x20255)','#d0ebff','1647EYdaIZ','visibility','undoStack','false','#82c91e','#e9ecef','undoBtn','redo','gridTemplateColumns','themeToggleId','currentPanX','clearBtn','#9775fa','line','init','#f59f00','.pixel','colors','loadProject','height','log','#e5dbff','26648sCCdnH','#ff6b6b','#c0eb75','currentColor','handBtn','zoomOutBtn','#d6336c','#339af0','rectDashOverlayId','setupPixelEventListeners','#12b886','#8ce99a','inset\x200\x200\x200\x2025px\x20rgba(255,\x20255,\x20255,\x200.1)','completeShape','#74b816','rgb','#b197fc','#d0bfff','gridSizeSelectId','saveProjectBtn','zoomControlIds','isPanning','textContent','symmetryModeSelectId','drawBtn','#fa5252'];_0x4cd7=function(){return _0x2ad2b8;};return _0x4cd7();}(function(_0x2ef45f,_0x395424){const _0x2343bb=_0x2a73,_0x490569=_0x2ef45f();while(!![]){try{const _0x4099f7=-parseInt(_0x2343bb(0x1cd))/0x1+-parseInt(_0x2343bb(0x20c))/0x2*(parseInt(_0x2343bb(0x174))/0x3)+parseInt(_0x2343bb(0x1db))/0x4+parseInt(_0x2343bb(0x1ad))/0x5+-parseInt(_0x2343bb(0x11e))/0x6+parseInt(_0x2343bb(0x12c))/0x7+parseInt(_0x2343bb(0x153))/0x8*(-parseInt(_0x2343bb(0x13d))/0x9);if(_0x4099f7===_0x395424)break;else _0x490569['push'](_0x490569['shift']());}catch(_0x2d8388){_0x490569['push'](_0x490569['shift']());}}}(_0x4cd7,0x4a8ec));class PixelDraw{constructor(_0x561b41){const _0x58a3b8=_0x2a73;console['log']('PixelDraw\x20class\x20created'),this[_0x58a3b8(0x234)]=_0x561b41,this[_0x58a3b8(0x228)]={},this[_0x58a3b8(0x203)]=0x18,this['gridWidth']=0x18,this[_0x58a3b8(0x200)]=0x18,this['currentColor']=_0x58a3b8(0x217),this[_0x58a3b8(0x22d)]=![],this[_0x58a3b8(0x11c)]=_0x58a3b8(0x17e),this['symmetryMode']='none',this['rectStart']=null,this[_0x58a3b8(0x133)]=null,this[_0x58a3b8(0x1c0)]=![],this[_0x58a3b8(0x216)]=0x1,this[_0x58a3b8(0x201)]=0.25,this[_0x58a3b8(0x1ac)]=0.25,this[_0x58a3b8(0x20d)]=0x3,this['isZooming']=![],this[_0x58a3b8(0x168)]=![],this[_0x58a3b8(0x1fa)]=0x0,this['panStartY']=0x0,this[_0x58a3b8(0x147)]=0x0,this['currentPanY']=0x0,this['lastMouseX']=null,this[_0x58a3b8(0x1a0)]=null,this[_0x58a3b8(0x17d)]=![],this[_0x58a3b8(0x13f)]=[],this[_0x58a3b8(0x206)]=[],this[_0x58a3b8(0x209)]=![],this[_0x58a3b8(0x215)]=null,this[_0x58a3b8(0x14e)]=[_0x58a3b8(0x1de),_0x58a3b8(0x217),'#f8f9fa',_0x58a3b8(0x1f8),_0x58a3b8(0x142),'#dee2e6',_0x58a3b8(0x19f),_0x58a3b8(0x1cf),_0x58a3b8(0x187),'#495057',_0x58a3b8(0x224),'#212529',_0x58a3b8(0x16f),_0x58a3b8(0x18f),_0x58a3b8(0x123),_0x58a3b8(0x128),_0x58a3b8(0x132),_0x58a3b8(0x154),_0x58a3b8(0x16c),_0x58a3b8(0x21b),_0x58a3b8(0x236),'#c92a2a',_0x58a3b8(0x21c),_0x58a3b8(0x1d6),'#fcc2d7','#faa2c1',_0x58a3b8(0x16e),'#f06595',_0x58a3b8(0x1ba),_0x58a3b8(0x159),_0x58a3b8(0x1fd),_0x58a3b8(0x1d3),_0x58a3b8(0x17a),_0x58a3b8(0x1b2),_0x58a3b8(0x172),'#e599f7',_0x58a3b8(0x21a),_0x58a3b8(0x232),_0x58a3b8(0x199),_0x58a3b8(0x1dc),'#9c36b5',_0x58a3b8(0x195),_0x58a3b8(0x12f),_0x58a3b8(0x152),_0x58a3b8(0x164),_0x58a3b8(0x163),_0x58a3b8(0x149),_0x58a3b8(0x19a),_0x58a3b8(0x138),_0x58a3b8(0x134),_0x58a3b8(0x120),_0x58a3b8(0x176),_0x58a3b8(0x214),_0x58a3b8(0x1df),_0x58a3b8(0x1fe),'#91a7ff',_0x58a3b8(0x118),'#5c7cfa','#4c6ef5',_0x58a3b8(0x202),'#3b5bdb',_0x58a3b8(0x13a),'#e7f5ff',_0x58a3b8(0x13c),'#a5d8ff',_0x58a3b8(0x171),_0x58a3b8(0x18e),_0x58a3b8(0x15a),_0x58a3b8(0x180),_0x58a3b8(0x18c),_0x58a3b8(0x12e),'#1864ab',_0x58a3b8(0x22c),_0x58a3b8(0x1b7),_0x58a3b8(0x1e8),_0x58a3b8(0x21d),_0x58a3b8(0x225),_0x58a3b8(0x137),_0x58a3b8(0x15d),_0x58a3b8(0x1fb),_0x58a3b8(0x19e),_0x58a3b8(0x211),_0x58a3b8(0x1f2),'#c3fae8',_0x58a3b8(0x1e8),'#63e6be',_0x58a3b8(0x225),_0x58a3b8(0x137),'#12b886',_0x58a3b8(0x1fb),_0x58a3b8(0x19e),'#087f5b','#ebfbee',_0x58a3b8(0x193),_0x58a3b8(0x204),_0x58a3b8(0x15e),_0x58a3b8(0x127),_0x58a3b8(0x198),_0x58a3b8(0x218),_0x58a3b8(0x1e1),_0x58a3b8(0x1cb),'#2b8a3e',_0x58a3b8(0x1f7),_0x58a3b8(0x20b),_0x58a3b8(0x1ef),_0x58a3b8(0x155),_0x58a3b8(0x139),_0x58a3b8(0x20f),_0x58a3b8(0x141),_0x58a3b8(0x161),_0x58a3b8(0x1b3),_0x58a3b8(0x210),_0x58a3b8(0x17f),_0x58a3b8(0x21e),_0x58a3b8(0x233),'#ffe066',_0x58a3b8(0x1dd),_0x58a3b8(0x1f5),_0x58a3b8(0x1d0),_0x58a3b8(0x14c),_0x58a3b8(0x20e),_0x58a3b8(0x1e4),_0x58a3b8(0x231),_0x58a3b8(0x1c2),_0x58a3b8(0x1a9),_0x58a3b8(0x17c),_0x58a3b8(0x122),_0x58a3b8(0x1bd),_0x58a3b8(0x17b),_0x58a3b8(0x1a4),'#e8590c',_0x58a3b8(0x1f9)];}[_0xb55993(0x14b)](){const _0x489a60=_0xb55993;console[_0x489a60(0x151)]('PixelDraw\x20initialized'),this['getElements'](),this[_0x489a60(0x219)](),this[_0x489a60(0x230)](),this[_0x489a60(0x1b9)](),this['updateToolButtons'](),this[_0x489a60(0x12d)](),this[_0x489a60(0x228)]['gridSizeSelect'][_0x489a60(0x1bf)]===_0x489a60(0x1c9)&&(this[_0x489a60(0x228)][_0x489a60(0x22e)]['style'][_0x489a60(0x1b4)]='inline-flex',this[_0x489a60(0x228)][_0x489a60(0x1be)][_0x489a60(0x1bf)]=this['gridWidth'],this[_0x489a60(0x228)]['customHeightInput'][_0x489a60(0x1bf)]=this['gridHeight']),this['initTheme']();}[_0xb55993(0x131)](){const _0x3271c6=_0xb55993;this[_0x3271c6(0x228)][_0x3271c6(0x1d2)]=document[_0x3271c6(0x182)](this[_0x3271c6(0x234)][_0x3271c6(0x165)]),this['elements'][_0x3271c6(0x1bb)]=document[_0x3271c6(0x182)](this[_0x3271c6(0x234)][_0x3271c6(0x226)]),this[_0x3271c6(0x228)][_0x3271c6(0x1e5)]=document[_0x3271c6(0x182)](this[_0x3271c6(0x234)][_0x3271c6(0x22a)]),this[_0x3271c6(0x228)]['rectDashOverlay']=document[_0x3271c6(0x182)](this['config'][_0x3271c6(0x15b)]),this['elements'][_0x3271c6(0x1ec)]=document[_0x3271c6(0x182)](this[_0x3271c6(0x234)][_0x3271c6(0x1b8)]),this[_0x3271c6(0x228)][_0x3271c6(0x16b)]=document[_0x3271c6(0x182)](this[_0x3271c6(0x234)][_0x3271c6(0x213)][_0x3271c6(0x17e)]),this['elements'][_0x3271c6(0x1e9)]=document[_0x3271c6(0x182)](this['config'][_0x3271c6(0x213)]['erase']),this[_0x3271c6(0x228)]['fillBtn']=document['getElementById'](this['config'][_0x3271c6(0x213)]['fill']),this[_0x3271c6(0x228)][_0x3271c6(0x148)]=document[_0x3271c6(0x182)](this[_0x3271c6(0x234)][_0x3271c6(0x213)][_0x3271c6(0x129)]),this[_0x3271c6(0x228)][_0x3271c6(0x20a)]=document[_0x3271c6(0x182)](this[_0x3271c6(0x234)][_0x3271c6(0x213)][_0x3271c6(0x1a1)]),this['elements'][_0x3271c6(0x175)]=document['getElementById'](this[_0x3271c6(0x234)][_0x3271c6(0x213)][_0x3271c6(0x1fc)]),this[_0x3271c6(0x228)]['lineBtn']=document[_0x3271c6(0x182)](this['config']['toolButtonIds']['line']),this['elements'][_0x3271c6(0x157)]=document[_0x3271c6(0x182)](this[_0x3271c6(0x234)][_0x3271c6(0x213)][_0x3271c6(0x22b)]),this[_0x3271c6(0x228)]['zoomBtn']=document[_0x3271c6(0x182)](this[_0x3271c6(0x234)][_0x3271c6(0x213)]['zoom']),this[_0x3271c6(0x228)]['saveBtn']=document[_0x3271c6(0x182)](this[_0x3271c6(0x234)][_0x3271c6(0x1d1)]['save']),this[_0x3271c6(0x228)][_0x3271c6(0x126)]=document[_0x3271c6(0x182)](this['config'][_0x3271c6(0x1d1)]['saveSvg']),this[_0x3271c6(0x228)][_0x3271c6(0x143)]=document['getElementById'](this[_0x3271c6(0x234)][_0x3271c6(0x1d1)]['undo']),this[_0x3271c6(0x228)][_0x3271c6(0x235)]=document[_0x3271c6(0x182)](this[_0x3271c6(0x234)][_0x3271c6(0x1d1)][_0x3271c6(0x144)]),this[_0x3271c6(0x228)][_0x3271c6(0x166)]=document[_0x3271c6(0x182)](this[_0x3271c6(0x234)]['actionButtonIds'][_0x3271c6(0x21f)]),this['elements']['loadProjectBtn']=document[_0x3271c6(0x182)](this[_0x3271c6(0x234)][_0x3271c6(0x1d1)][_0x3271c6(0x14f)]),this[_0x3271c6(0x228)][_0x3271c6(0x22e)]=document[_0x3271c6(0x182)](this[_0x3271c6(0x234)][_0x3271c6(0x1c1)]['inputs']),this[_0x3271c6(0x228)]['customWidthInput']=document['getElementById'](this[_0x3271c6(0x234)][_0x3271c6(0x1c1)][_0x3271c6(0x135)]),this[_0x3271c6(0x228)]['customHeightInput']=document[_0x3271c6(0x182)](this[_0x3271c6(0x234)][_0x3271c6(0x1c1)][_0x3271c6(0x150)]),this['elements']['statusBar']=document[_0x3271c6(0x182)](this[_0x3271c6(0x234)][_0x3271c6(0x1a3)]),this[_0x3271c6(0x228)][_0x3271c6(0x190)]=document[_0x3271c6(0x182)](this[_0x3271c6(0x234)][_0x3271c6(0x19c)]),this[_0x3271c6(0x228)][_0x3271c6(0x194)]=document[_0x3271c6(0x182)](this[_0x3271c6(0x234)][_0x3271c6(0x16a)]),this[_0x3271c6(0x228)]['zoomInBtn']=document['getElementById'](this[_0x3271c6(0x234)]['zoomControlIds']['in']),this[_0x3271c6(0x228)][_0x3271c6(0x158)]=document['getElementById'](this['config'][_0x3271c6(0x167)]['out']),this['elements'][_0x3271c6(0x1b6)]=document[_0x3271c6(0x182)](this[_0x3271c6(0x234)]['zoomControlIds'][_0x3271c6(0x19d)]),this[_0x3271c6(0x228)][_0x3271c6(0x220)]=document[_0x3271c6(0x182)](this[_0x3271c6(0x234)][_0x3271c6(0x167)][_0x3271c6(0x1b4)]),this['elements'][_0x3271c6(0x1a2)]=document[_0x3271c6(0x12b)](_0x3271c6(0x1eb)),this[_0x3271c6(0x228)][_0x3271c6(0x1ab)]=document['getElementById'](this['config'][_0x3271c6(0x146)]);}[_0xb55993(0x18d)](){const _0x5b7775=_0xb55993,_0xd9f352=Array[_0x5b7775(0x222)](document[_0x5b7775(0x1f4)](_0x5b7775(0x14d)));this['currentActionStart']=_0xd9f352[_0x5b7775(0x19b)](_0x4de057=>({'color':_0x4de057[_0x5b7775(0x208)][_0x5b7775(0x1a5)]||_0x5b7775(0x1d7),'filled':_0x4de057[_0x5b7775(0x22f)][_0x5b7775(0x117)]==='true'})),this[_0x5b7775(0x209)]=!![],this[_0x5b7775(0x206)]=[];}[_0xb55993(0x181)](){const _0x15761f=_0xb55993;if(!this[_0x15761f(0x209)]||!this[_0x15761f(0x215)])return;const _0x5cdcdb=Array[_0x15761f(0x222)](document[_0x15761f(0x1f4)]('.pixel')),_0x5a1fa9=_0x5cdcdb[_0x15761f(0x19b)](_0x4bc271=>({'color':_0x4bc271['style'][_0x15761f(0x1a5)]||_0x15761f(0x1d7),'filled':_0x4bc271[_0x15761f(0x22f)][_0x15761f(0x117)]==='true'}));let _0x31f7fb=![];for(let _0x479e44=0x0;_0x479e44<_0x5cdcdb['length'];_0x479e44++){if(_0x5a1fa9[_0x479e44][_0x15761f(0x121)]!==this[_0x15761f(0x215)][_0x479e44]['color']||_0x5a1fa9[_0x479e44]['filled']!==this[_0x15761f(0x215)][_0x479e44][_0x15761f(0x117)]){_0x31f7fb=!![];break;}}if(_0x31f7fb){this[_0x15761f(0x13f)][_0x15761f(0x11b)](this[_0x15761f(0x215)]);if(this['undoStack'][_0x15761f(0x1e3)]>0x32)this['undoStack']['shift']();this[_0x15761f(0x206)]=[];}this[_0x15761f(0x209)]=![],this[_0x15761f(0x215)]=null;}[_0xb55993(0x136)](){const _0x52f331=_0xb55993;if(this['isRecordingAction'])return;const _0x3b3ac1=Array[_0x52f331(0x222)](document['querySelectorAll'](_0x52f331(0x14d))),_0x18fb12=_0x3b3ac1['map'](_0x1744a5=>({'color':_0x1744a5[_0x52f331(0x208)]['backgroundColor']||_0x52f331(0x1d7),'filled':_0x1744a5[_0x52f331(0x22f)]['filled']===_0x52f331(0x124)}));this['undoStack'][_0x52f331(0x11b)](_0x18fb12);if(this[_0x52f331(0x13f)][_0x52f331(0x1e3)]>0x32)this[_0x52f331(0x13f)][_0x52f331(0x196)]();this[_0x52f331(0x206)]=[];}[_0xb55993(0x1ae)](){const _0x464eb4=_0xb55993;if(this[_0x464eb4(0x13f)][_0x464eb4(0x1e3)]===0x0)return;const _0x4bf8d4=this[_0x464eb4(0x13f)][_0x464eb4(0x119)]();if(!_0x4bf8d4)return;const _0x4daf66=Array[_0x464eb4(0x222)](document['querySelectorAll']('.pixel')),_0x356ddf=_0x4daf66[_0x464eb4(0x19b)](_0x486b94=>({'color':_0x486b94[_0x464eb4(0x208)][_0x464eb4(0x1a5)]||_0x464eb4(0x1d7),'filled':_0x486b94[_0x464eb4(0x22f)][_0x464eb4(0x117)]==='true'}));this['redoStack'][_0x464eb4(0x11b)](_0x356ddf),_0x4daf66[_0x464eb4(0x221)]((_0x592356,_0x480ce0)=>{const _0x960a6c=_0x464eb4;_0x592356[_0x960a6c(0x208)]['backgroundColor']=_0x4bf8d4[_0x480ce0]['color']||_0x960a6c(0x1d7),_0x4bf8d4[_0x480ce0][_0x960a6c(0x117)]?(_0x592356[_0x960a6c(0x22f)][_0x960a6c(0x117)]='true',_0x592356[_0x960a6c(0x208)][_0x960a6c(0x1b0)](_0x960a6c(0x1a7),_0x4bf8d4[_0x480ce0][_0x960a6c(0x121)])):(_0x592356[_0x960a6c(0x22f)][_0x960a6c(0x117)]='false',_0x592356[_0x960a6c(0x208)][_0x960a6c(0x116)]('--pixel-color'));}),this[_0x464eb4(0x228)]['statusBar']['textContent']='Undid\x20last\x20action';}[_0xb55993(0x12a)](){const _0x2c56d2=_0xb55993;if(this['redoStack']['length']===0x0)return;const _0x2558c8=this[_0x2c56d2(0x206)][_0x2c56d2(0x119)]();if(!_0x2558c8)return;const _0x1d23f3=Array[_0x2c56d2(0x222)](document[_0x2c56d2(0x1f4)](_0x2c56d2(0x14d))),_0x43ffee=_0x1d23f3[_0x2c56d2(0x19b)](_0x3c7681=>({'color':_0x3c7681[_0x2c56d2(0x208)][_0x2c56d2(0x1a5)]||_0x2c56d2(0x1d7),'filled':_0x3c7681[_0x2c56d2(0x22f)]['filled']===_0x2c56d2(0x124)}));this['undoStack'][_0x2c56d2(0x11b)](_0x43ffee),_0x1d23f3[_0x2c56d2(0x221)]((_0x4d9e81,_0x40e223)=>{const _0xf78b04=_0x2c56d2;_0x4d9e81[_0xf78b04(0x208)][_0xf78b04(0x1a5)]=_0x2558c8[_0x40e223]['color']||'white',_0x2558c8[_0x40e223][_0xf78b04(0x117)]?(_0x4d9e81[_0xf78b04(0x22f)][_0xf78b04(0x117)]=_0xf78b04(0x124),_0x4d9e81[_0xf78b04(0x208)][_0xf78b04(0x1b0)](_0xf78b04(0x1a7),_0x2558c8[_0x40e223][_0xf78b04(0x121)])):(_0x4d9e81[_0xf78b04(0x22f)][_0xf78b04(0x117)]=_0xf78b04(0x140),_0x4d9e81[_0xf78b04(0x208)][_0xf78b04(0x116)](_0xf78b04(0x1a7)));}),this['elements'][_0x2c56d2(0x1c4)]['textContent']=_0x2c56d2(0x192);}[_0xb55993(0x219)](){const _0x398ae6=_0xb55993,_0x766a3a=document[_0x398ae6(0x182)]('bw-row');if(_0x766a3a)_0x766a3a['innerHTML']='';const _0x4f4ddb=this[_0x398ae6(0x14e)][_0x398ae6(0x1da)](_0x5b810d=>_0x5b810d!=='#000000'&&_0x5b810d!==_0x398ae6(0x1de));[_0x398ae6(0x217),'#ffffff'][_0x398ae6(0x221)](_0x53cfc7=>{const _0x543170=_0x398ae6,_0x3e8e30=document[_0x543170(0x212)](_0x543170(0x115));_0x3e8e30[_0x543170(0x177)]=_0x543170(0x121),_0x3e8e30[_0x543170(0x208)]['backgroundColor']=_0x53cfc7,_0x3e8e30[_0x543170(0x22f)]['color']=_0x53cfc7,_0x53cfc7===this['currentColor']&&_0x3e8e30['classList']['add'](_0x543170(0x1e2)),_0x3e8e30[_0x543170(0x125)](_0x543170(0x18a),()=>{const _0x476eaf=_0x543170;document[_0x476eaf(0x1f4)]('.color')['forEach'](_0x20b97d=>{const _0x5ab8f5=_0x476eaf;_0x20b97d[_0x5ab8f5(0x1ed)]['remove']('selected');}),_0x3e8e30['classList'][_0x476eaf(0x189)](_0x476eaf(0x1e2)),this[_0x476eaf(0x156)]=_0x53cfc7,this['elements']['statusBar'][_0x476eaf(0x169)]='Selected\x20color:\x20'+_0x53cfc7;}),_0x3e8e30[_0x543170(0x125)](_0x543170(0x11f),_0x1df00f=>{const _0x42e61c=_0x543170,_0x4635ae=document[_0x42e61c(0x212)](_0x42e61c(0x173));_0x4635ae[_0x42e61c(0x223)]=_0x42e61c(0x121),_0x4635ae[_0x42e61c(0x1bf)]=_0x53cfc7,_0x4635ae[_0x42e61c(0x208)][_0x42e61c(0x1ff)]=_0x42e61c(0x197),_0x4635ae['style'][_0x42e61c(0x1a8)]=_0x42e61c(0x184),document[_0x42e61c(0x229)][_0x42e61c(0x1ea)](_0x4635ae),_0x4635ae[_0x42e61c(0x125)]('change',_0x585443=>{const _0x3644ba=_0x42e61c,_0x142617=_0x585443[_0x3644ba(0x11d)][_0x3644ba(0x1bf)],_0x1979a9=this[_0x3644ba(0x14e)]['indexOf'](_0x53cfc7);_0x1979a9!==-0x1&&(this[_0x3644ba(0x14e)][_0x1979a9]=_0x142617,_0x3e8e30[_0x3644ba(0x208)][_0x3644ba(0x1a5)]=_0x142617,_0x3e8e30[_0x3644ba(0x22f)][_0x3644ba(0x121)]=_0x142617,_0x3e8e30[_0x3644ba(0x1ed)][_0x3644ba(0x188)](_0x3644ba(0x1e2))&&(this['currentColor']=_0x142617,this[_0x3644ba(0x228)]['statusBar'][_0x3644ba(0x169)]='Selected\x20color:\x20'+_0x142617),this[_0x3644ba(0x219)]()),document[_0x3644ba(0x229)]['removeChild'](_0x4635ae);},{'once':!![]}),_0x4635ae['click']();}),_0x766a3a['appendChild'](_0x3e8e30);}),this[_0x398ae6(0x228)]['colorPicker']['innerHTML']='',_0x4f4ddb['forEach'](_0x41e55f=>{const _0x1a680a=_0x398ae6,_0x11bc9a=document[_0x1a680a(0x212)]('div');_0x11bc9a[_0x1a680a(0x177)]=_0x1a680a(0x121),_0x11bc9a[_0x1a680a(0x208)][_0x1a680a(0x1a5)]=_0x41e55f,_0x11bc9a[_0x1a680a(0x22f)][_0x1a680a(0x121)]=_0x41e55f,_0x41e55f===this[_0x1a680a(0x156)]&&_0x11bc9a[_0x1a680a(0x1ed)][_0x1a680a(0x189)](_0x1a680a(0x1e2)),_0x11bc9a['addEventListener'](_0x1a680a(0x18a),()=>{const _0x297f11=_0x1a680a;document[_0x297f11(0x1f4)]('.color')[_0x297f11(0x221)](_0x2802f2=>{const _0x1a1c3c=_0x297f11;_0x2802f2[_0x1a1c3c(0x1ed)][_0x1a1c3c(0x1f0)]('selected');}),_0x11bc9a[_0x297f11(0x1ed)][_0x297f11(0x189)](_0x297f11(0x1e2)),this[_0x297f11(0x156)]=_0x41e55f,this[_0x297f11(0x228)][_0x297f11(0x1c4)][_0x297f11(0x169)]=_0x297f11(0x1e7)+_0x41e55f;}),_0x11bc9a[_0x1a680a(0x125)](_0x1a680a(0x11f),_0x18c3da=>{const _0x246f86=_0x1a680a,_0x25bd36=document[_0x246f86(0x212)](_0x246f86(0x173));_0x25bd36[_0x246f86(0x223)]=_0x246f86(0x121),_0x25bd36[_0x246f86(0x1bf)]=_0x41e55f,_0x25bd36[_0x246f86(0x208)][_0x246f86(0x1ff)]=_0x246f86(0x197),_0x25bd36[_0x246f86(0x208)][_0x246f86(0x1a8)]=_0x246f86(0x184),document[_0x246f86(0x229)][_0x246f86(0x1ea)](_0x25bd36),_0x25bd36['addEventListener'](_0x246f86(0x183),_0x57fa67=>{const _0x5ab43d=_0x246f86,_0x5b1922=_0x57fa67[_0x5ab43d(0x11d)][_0x5ab43d(0x1bf)],_0x473b49=this[_0x5ab43d(0x14e)][_0x5ab43d(0x1d5)](_0x41e55f);_0x473b49!==-0x1&&(this[_0x5ab43d(0x14e)][_0x473b49]=_0x5b1922,_0x11bc9a[_0x5ab43d(0x208)]['backgroundColor']=_0x5b1922,_0x11bc9a[_0x5ab43d(0x22f)][_0x5ab43d(0x121)]=_0x5b1922,_0x11bc9a[_0x5ab43d(0x1ed)]['contains'](_0x5ab43d(0x1e2))&&(this[_0x5ab43d(0x156)]=_0x5b1922,this[_0x5ab43d(0x228)][_0x5ab43d(0x1c4)][_0x5ab43d(0x169)]=_0x5ab43d(0x1e7)+_0x5b1922),this[_0x5ab43d(0x219)]()),document['body'][_0x5ab43d(0x179)](_0x25bd36);},{'once':!![]}),_0x25bd36[_0x246f86(0x18a)]();}),this[_0x1a680a(0x228)][_0x1a680a(0x1ec)][_0x1a680a(0x1ea)](_0x11bc9a);});for(let _0x5cf77c=0x0;_0x5cf77c<0x5;_0x5cf77c++){const _0x26ff2e=document[_0x398ae6(0x212)]('div');_0x26ff2e['className']=_0x398ae6(0x121),_0x26ff2e[_0x398ae6(0x208)][_0x398ae6(0x13e)]=_0x398ae6(0x191),this[_0x398ae6(0x228)][_0x398ae6(0x1ec)][_0x398ae6(0x1ea)](_0x26ff2e);}}[_0xb55993(0x1d4)](_0x4461c0){const _0x1d5a6d=_0xb55993;if(!_0x4461c0||_0x4461c0===_0x1d5a6d(0x1d7)||_0x4461c0==='')return _0x1d5a6d(0x13b);if(_0x4461c0[_0x1d5a6d(0x1e0)](_0x1d5a6d(0x162)))return _0x4461c0;const _0x1f9f32=_0x4461c0[_0x1d5a6d(0x1af)]('#',''),_0x2c26c6=parseInt(_0x1f9f32['substr'](0x0,0x2),0x10),_0x4d5dcc=parseInt(_0x1f9f32[_0x1d5a6d(0x186)](0x2,0x2),0x10),_0x3e1c3b=parseInt(_0x1f9f32[_0x1d5a6d(0x186)](0x4,0x2),0x10);return'rgb('+_0x2c26c6+',\x20'+_0x4d5dcc+',\x20'+_0x3e1c3b+')';}['floodFillWithoutUndo'](_0x3d4a19,_0x1dc522,_0x20d70b){const _0x1be0e0=_0xb55993,_0x54658d=Array['from'](document[_0x1be0e0(0x1f4)](_0x1be0e0(0x14d))),_0x426919=_0x54658d[_0x1be0e0(0x1d5)](_0x3d4a19);if(this['getRGBString'](_0x3d4a19[_0x1be0e0(0x208)]['backgroundColor'])===this[_0x1be0e0(0x1d4)](_0x20d70b))return;const _0x1a47e0=[_0x426919],_0x4ad1c5=new Set();while(_0x1a47e0[_0x1be0e0(0x1e3)]>0x0){const _0x3d6c2a=_0x1a47e0[_0x1be0e0(0x196)]();if(_0x4ad1c5['has'](_0x3d6c2a))continue;_0x4ad1c5[_0x1be0e0(0x189)](_0x3d6c2a);const _0x13b73f=_0x54658d[_0x3d6c2a];if(this[_0x1be0e0(0x1d4)](_0x13b73f[_0x1be0e0(0x208)]['backgroundColor'])!==this[_0x1be0e0(0x1d4)](_0x1dc522))continue;_0x13b73f[_0x1be0e0(0x208)][_0x1be0e0(0x1a5)]=_0x20d70b,_0x13b73f[_0x1be0e0(0x22f)][_0x1be0e0(0x117)]=_0x1be0e0(0x124),_0x13b73f[_0x1be0e0(0x208)][_0x1be0e0(0x1b0)]('--pixel-color',_0x20d70b);const _0x157d5b=Math[_0x1be0e0(0x1ee)](_0x3d6c2a/this[_0x1be0e0(0x1c5)]),_0x605866=_0x3d6c2a%this[_0x1be0e0(0x1c5)];_0x157d5b>0x0&&_0x1a47e0[_0x1be0e0(0x11b)](_0x3d6c2a-this[_0x1be0e0(0x1c5)]),_0x605866<this[_0x1be0e0(0x1c5)]-0x1&&_0x1a47e0[_0x1be0e0(0x11b)](_0x3d6c2a+0x1),_0x157d5b<this[_0x1be0e0(0x200)]-0x1&&_0x1a47e0[_0x1be0e0(0x11b)](_0x3d6c2a+this[_0x1be0e0(0x1c5)]),_0x605866>0x0&&_0x1a47e0[_0x1be0e0(0x11b)](_0x3d6c2a-0x1);}}[_0xb55993(0x1f1)](_0x3a7639,_0xe23bbc,_0x15335e){const _0x4fcf4a=_0xb55993;this[_0x4fcf4a(0x136)](),this['floodFillWithoutUndo'](_0x3a7639,_0xe23bbc,_0x15335e);}['applyGridStyle'](){const _0x1e9175=_0xb55993;this['elements'][_0x1e9175(0x1e5)][_0x1e9175(0x1ed)][_0x1e9175(0x1f0)](_0x1e9175(0x207),_0x1e9175(0x170),'no-grid','alpha-grid');if(this[_0x1e9175(0x228)][_0x1e9175(0x1bb)]['value']===_0x1e9175(0x1d8))this[_0x1e9175(0x228)]['pixelGrid'][_0x1e9175(0x1ed)][_0x1e9175(0x189)](_0x1e9175(0x207));else{if(this[_0x1e9175(0x228)][_0x1e9175(0x1bb)][_0x1e9175(0x1bf)]===_0x1e9175(0x1ca))this[_0x1e9175(0x228)][_0x1e9175(0x1e5)][_0x1e9175(0x1ed)][_0x1e9175(0x189)](_0x1e9175(0x170));else this['elements'][_0x1e9175(0x1bb)][_0x1e9175(0x1bf)]===_0x1e9175(0x1e6)?this['elements'][_0x1e9175(0x1e5)][_0x1e9175(0x1ed)][_0x1e9175(0x189)]('alpha-grid'):this['elements'][_0x1e9175(0x1e5)][_0x1e9175(0x1ed)]['add'](_0x1e9175(0x16d));}}[_0xb55993(0x230)](){const _0x3562ca=_0xb55993;let _0x13afcb=[];const _0x500798=this[_0x3562ca(0x228)]['pixelGrid'][_0x3562ca(0x1f4)]('.pixel');if(_0x500798[_0x3562ca(0x1e3)]>0x0){let _0x140cdd=this['gridSize'];const _0x10ced1=this[_0x3562ca(0x228)][_0x3562ca(0x1e5)][_0x3562ca(0x208)][_0x3562ca(0x145)];if(_0x10ced1){const _0x450762=_0x10ced1[_0x3562ca(0x1a6)](/repeat\((\d+)/);_0x450762&&_0x450762[0x1]&&(_0x140cdd=parseInt(_0x450762[0x1]));}const _0x596312=Math['ceil'](_0x500798['length']/_0x140cdd);for(let _0x6c743f=0x0;_0x6c743f<_0x596312;_0x6c743f++){let _0x6c2da4=[];for(let _0x3a260c=0x0;_0x3a260c<_0x140cdd;_0x3a260c++){const _0x5a8bd6=_0x6c743f*_0x140cdd+_0x3a260c,_0x323c6b=_0x500798[_0x5a8bd6];_0x6c2da4['push'](_0x323c6b?_0x323c6b[_0x3562ca(0x208)][_0x3562ca(0x1a5)]||'white':_0x3562ca(0x1d7));}_0x13afcb[_0x3562ca(0x11b)](_0x6c2da4);}}this[_0x3562ca(0x228)][_0x3562ca(0x1e5)][_0x3562ca(0x1bc)]='',this['elements'][_0x3562ca(0x1e5)][_0x3562ca(0x208)][_0x3562ca(0x145)]='repeat('+this['gridWidth']+_0x3562ca(0x1aa);let _0x400cd5=0x0,_0x3772d3=0x0;if(_0x13afcb[_0x3562ca(0x1e3)]>0x0){const _0x21b182=_0x13afcb[_0x3562ca(0x1e3)],_0x7e6290=_0x13afcb[0x0]['length'];_0x400cd5=Math[_0x3562ca(0x1ee)]((this['gridHeight']-_0x21b182)/0x2),_0x3772d3=Math[_0x3562ca(0x1ee)]((this['gridWidth']-_0x7e6290)/0x2);}for(let _0x5b255e=0x0;_0x5b255e<this[_0x3562ca(0x1c5)]*this['gridHeight'];_0x5b255e++){const _0x4787fc=document[_0x3562ca(0x212)](_0x3562ca(0x115));_0x4787fc[_0x3562ca(0x177)]='pixel';const _0x508d46=Math[_0x3562ca(0x1ee)](_0x5b255e/this[_0x3562ca(0x1c5)]),_0x53e243=_0x5b255e%this[_0x3562ca(0x1c5)];_0x13afcb[_0x3562ca(0x1e3)]>0x0&&_0x508d46-_0x400cd5>=0x0&&_0x508d46-_0x400cd5<_0x13afcb[_0x3562ca(0x1e3)]&&_0x53e243-_0x3772d3>=0x0&&_0x53e243-_0x3772d3<_0x13afcb[0x0][_0x3562ca(0x1e3)]?(_0x4787fc[_0x3562ca(0x208)]['backgroundColor']=_0x13afcb[_0x508d46-_0x400cd5][_0x53e243-_0x3772d3],_0x13afcb[_0x508d46-_0x400cd5][_0x53e243-_0x3772d3]!==_0x3562ca(0x1d7)?(_0x4787fc[_0x3562ca(0x22f)][_0x3562ca(0x117)]=_0x3562ca(0x124),_0x4787fc[_0x3562ca(0x208)]['setProperty'](_0x3562ca(0x1a7),_0x13afcb[_0x508d46-_0x400cd5][_0x53e243-_0x3772d3])):_0x4787fc['dataset'][_0x3562ca(0x117)]=_0x3562ca(0x140)):(_0x4787fc[_0x3562ca(0x208)][_0x3562ca(0x1a5)]=_0x3562ca(0x1d7),_0x4787fc[_0x3562ca(0x22f)]['filled']=_0x3562ca(0x140)),this[_0x3562ca(0x15c)](_0x4787fc,_0x508d46,_0x53e243),this['elements'][_0x3562ca(0x1e5)][_0x3562ca(0x1ea)](_0x4787fc);}this['setupGlobalMouseEvents'](),this[_0x3562ca(0x1b9)](),this[_0x3562ca(0x228)][_0x3562ca(0x1c4)][_0x3562ca(0x169)]=_0x3562ca(0x130)+this['gridWidth']+'×'+this[_0x3562ca(0x200)];}[_0xb55993(0x15c)](_0x1987a1,_0x2c6856,_0xe9fce){const _0xc13bd5=_0xb55993;_0x1987a1[_0xc13bd5(0x125)](_0xc13bd5(0x1c3),_0x11e1b7=>{const _0x4f520d=_0xc13bd5;if(this[_0x4f520d(0x11c)]===_0x4f520d(0x22b))return;(this[_0x4f520d(0x11c)]===_0x4f520d(0x17e)||this['currentTool']==='erase')&&this[_0x4f520d(0x18d)](),this['isDrawing']=!![],this[_0x4f520d(0x1b5)](_0x1987a1);}),_0x1987a1[_0xc13bd5(0x125)](_0xc13bd5(0x205),_0x4e76af=>{const _0x283457=_0xc13bd5;this[_0x283457(0x228)]['coordinatesDisplay']['textContent']=_0x283457(0x1f3)+_0xe9fce+','+_0x2c6856;if(this['currentTool']==='hand')return;(this[_0x283457(0x11c)]===_0x283457(0x17e)||this[_0x283457(0x11c)]===_0x283457(0x178))&&(_0x1987a1['dataset'][_0x283457(0x117)]===_0x283457(0x124)&&(_0x1987a1[_0x283457(0x208)][_0x283457(0x1c6)]=_0x283457(0x15f))),this[_0x283457(0x22d)]&&this[_0x283457(0x1b5)](_0x1987a1);}),_0x1987a1[_0xc13bd5(0x125)](_0xc13bd5(0x1cc),_0x27ab93=>{const _0x2f4737=_0xc13bd5;_0x1987a1[_0x2f4737(0x208)][_0x2f4737(0x1c6)]='';});}[_0xb55993(0x1ce)](){const _0x2349b5=_0xb55993;document[_0x2349b5(0x125)](_0x2349b5(0x1c8),_0x259e39=>{const _0x484a40=_0x2349b5;if(this[_0x484a40(0x11c)]===_0x484a40(0x22b)){this[_0x484a40(0x22d)]=![];return;}this[_0x484a40(0x22d)]&&(this[_0x484a40(0x11c)]===_0x484a40(0x17e)||this[_0x484a40(0x11c)]===_0x484a40(0x178))&&this['endAction']();if(this['isDrawing']&&(this[_0x484a40(0x11c)]===_0x484a40(0x1a1)||this[_0x484a40(0x11c)]==='ellipse'||this[_0x484a40(0x11c)]===_0x484a40(0x14a))&&this['rectStart']!==null){const _0x397ff1=_0x259e39[_0x484a40(0x11d)];if(!_0x397ff1['classList']||!_0x397ff1[_0x484a40(0x1ed)][_0x484a40(0x188)]('pixel')){this[_0x484a40(0x228)][_0x484a40(0x185)]['style'][_0x484a40(0x1b4)]=_0x484a40(0x1b1),this[_0x484a40(0x228)][_0x484a40(0x185)][_0x484a40(0x1bc)]='';const _0x151ba1=Array[_0x484a40(0x222)](this[_0x484a40(0x228)][_0x484a40(0x1e5)][_0x484a40(0x11a)]),_0x32e99d=this[_0x484a40(0x1d9)],_0x4c0949=Math[_0x484a40(0x1ee)](_0x32e99d/this[_0x484a40(0x1c5)]),_0x46bf59=_0x32e99d%this['gridWidth'],_0x34588c=this[_0x484a40(0x228)]['pixelGrid']['getBoundingClientRect'](),_0x31a84f=_0x34588c['width']/this[_0x484a40(0x1c5)],_0x8a6c90=_0x34588c[_0x484a40(0x150)]/this['gridHeight'];let _0x57a6b0=_0x259e39['clientX']-_0x34588c['left'],_0x5b9ec6=_0x259e39[_0x484a40(0x1f6)]-_0x34588c[_0x484a40(0x227)];_0x57a6b0=Math[_0x484a40(0x1c7)](-_0x31a84f,Math['min'](_0x34588c['width']+_0x31a84f,_0x57a6b0)),_0x5b9ec6=Math[_0x484a40(0x1c7)](-_0x8a6c90,Math[_0x484a40(0x18b)](_0x34588c[_0x484a40(0x150)]+_0x8a6c90,_0x5b9ec6));const _0x1dcdca=Math[_0x484a40(0x1ee)](_0x57a6b0/_0x31a84f),_0x10c377=Math[_0x484a40(0x1ee)](_0x5b9ec6/_0x8a6c90);this[_0x484a40(0x160)](_0x4c0949,_0x46bf59,_0x10c377,_0x1dcdca),this[_0x484a40(0x181)](),this[_0x484a40(0x1d9)]=null;}}this['isDrawing']=![];});}}